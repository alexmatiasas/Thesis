\ProvidesPackage{preamble}
% ================================================================================================================================
% Paquetes básicos
% ================================================================================================================================
\usepackage[spanish, mexico, english]{babel} % Idiomas
\usepackage[utf8]{inputenc}          % Codificación
\usepackage[LGR,T1]{fontenc}         % Soporte de fuentes
\usepackage{textalpha}               % Soporte de caracteres adicionales
\usepackage{mdframed} 
\usepackage{float}
\usepackage[many]{tcolorbox}  % Para múltiples estilos

% Paquetes matemáticos y científicos
\usepackage{enumerate}
\usepackage{tikz}
\usetikzlibrary{shapes,arrows,positioning,arrows.meta}
\usepackage{cancel}           % Para \cancelto
\usepackage{booktabs} % Para tablas profesionales
\usepackage{eqnarray, amsmath, nccmath, bm, amsthm} % Ecuaciones
\usepackage{amsfonts, amssymb}          % Fuentes y símbolos
\usepackage{physics}                    % Comandos físicos
\usepackage[separate-uncertainty = true]{siunitx}                    % Comandos para unidades más prácticos.
% Para que no haya conflicto con qty
\AtBeginDocument{\RenewCommandCopy\qty\SI}

% Fuentes y estilos
\usepackage{newtxtext,newtxmath}          % Fuente moderna
\usepackage{xcolor}           % Colores
\usepackage{graphicx}         % Imágenes
\usepackage{url}              % Manejo de URLs
\usepackage{blindtext}        % Texto de ejemplo
\usepackage{fancyhdr} % Estilos de encabezado/pie
\usepackage{fourier-orns}     % Para líneas estilizadas con logos u ornamento
\usepackage{mathrsfs}         % Fuente caligráfica
\usepackage{nicefrac, xfrac}  % Fracciones
\usepackage{slashed}          % Notación slash (Dirac)
\usepackage{etoolbox}         % Crea macros
\usepackage{listings}         % Listing for environments of coding
\usepackage[labelfont=bf, font=small, labelsep=colon]{caption}
\usepackage{empheq}
% \usepackage{fontawesome}      % Font icons
\usepackage{caption}
\usepackage{subcaption}

% Documentos y referencias
\usepackage[sort&compress,numbers]{natbib} % Citas bibliográficas
\usepackage[nottoc]{tocbibind}            % Índices
\usepackage[left=2cm,right=2cm,top=2cm,bottom=2cm]{geometry} % Márgenes
\usepackage{wrapfig}                      % Imágenes flotantes

% Opciones de capítulos
\usepackage[Rejne]{fncychap} % Estilos de capítulos

% Hipervínculos, glosarios y nomenclatura
\usepackage[hidelinks]{hyperref}                     % Hipervínculos
\usepackage[acronym]{glossaries} % Glosarios y acrónimos
\usepackage[intoc, spanish]{nomencl}

% ================================================================================================================================
% Configuración específica
% ================================================================================================================================

% Definiciones de colores
\definecolor{airforceblue}{rgb}{0.36, 0.54, 0.66}
\definecolor{myblue}{RGB}{12,12,224}

\graphicspath{ {Images/} }

% Configuración de hipervínculos
\hypersetup{
    colorlinks=true,
    linkcolor=myblue,
    citecolor=myblue,
    filecolor=myblue,      
    urlcolor=myblue,
    pdftitle={My Thesis},
    pdfauthor={Manuel Alejandro Matías Astorga},
    pdfpagemode=FullScreen,
}
\urlstyle{same}


% ================================================================================================================================
% Comandos y definiciones personalizadas
% ================================================================================================================================

% Glosarios

\makeglossaries
\input{glossary}

% Acrónimos

\input{acronyms}

% \newacronym{bg}{BG}{Boltzmann - Gibbs}
% \newacronym{be}{BE}{Bose - Einstein}
% \newacronym{fd}{FD}{Fermi - Dirac}
% \newacronym{qcd}{QCD}{Quantum Chromodynamics}
% \newacronym{qed}{QED}{Quantum Electrodynamics}
% \newacronym{mit}{MIT}{Massachusetts Institute of Technology}
% \newacronym{slac}{SLAC}{Stanford Linear Accelerator Center}
% \newacronym{gff}{GFF}{Gravitational form factors}
% \newacronym{bm}{BM}{Bag Model}
% \newacronym{lqcd}{LQCD}{Lattice QCD}
% \newacronym{t-mitbm}{T-MIT bag model}{Tsallis-MIT Bag Model}
% \newacronym{dvcs}{DVCS}{Deep Virtual Compton Scattering}
% \newacronym{gpd}{GPD}{Generalized Parton Distributions}
% \newacronym{cff}{CFFs}{Compton Form Factors}

% Nomenclatura

\makenomenclature

\renewcommand{\nomname}{Nomenclatura} %changes the default title.
\renewcommand{\nompreamble}{La siguiente es la lista de los símbolos matemáticos que fueron usados durante este trabajo} % inserts some text in between the title and the list symbols.



% Abstract personalizado
\newenvironment{abstract}
{\null\vfill 
\begin{center}
\bfseries\abstractname 
\end{center}
}
{\vfill \null}

% Comando para el abstract
\newcommand{\abstractsection}[2]{
    \selectlanguage{#1}
    \begin{abstract}
        #2
    \end{abstract}
}

% Comando para página en blanco sin estilo

\newcommand{\blankpage}{
    \newpage
    \thispagestyle{empty}
    \mbox{}
}

\renewcommand\nomgroup[1]{%
  \item[\bfseries
  \ifstrequal{#1}{A}{Constantes Físicas}{%
  \ifstrequal{#1}{B}{Conjuntos de Números}{%
  \ifstrequal{#1}{C}{Otros Símbolos}{}}}%
]}

%% This will add the units
%----------------------------------------------
\newcommand{\nomunit}[1]{%
\renewcommand{\nomentryend}{\hspace*{\fill}#1}}
%----------------------------------------------

%----------------------------------------------
\let\lim\relax % release ("undefine") "\lim" as a macro name
\DeclareMathOperator*{\lim}{l\acute{i} m}
%----------------------------------------------

%----------------------------------------------
\theoremstyle{remark}
\newtheorem*{remark}{Observación}
%----------------------------------------------


%----------------------------------------------
\newmdenv[
    backgroundcolor=gray!10,
    linewidth=0.5pt,
    linecolor=gray,
    leftmargin=10pt,
    rightmargin=10pt,
    nobreak=true
]{physicalinsight}
%----------------------------------------------

\newtcolorbox{diagramabox}[1][]{
    enhanced,
    sharp corners,
    colback=white,
    boxrule=0.5pt,
    arc=0pt,
    top=4mm,  % Espacio superior
    bottom=4mm,  % Espacio inferior
    left=2mm,  % Espacio izquierdo
    right=2mm,  % Espacio derecho
    width=\linewidth,  % Ancho ajustado al texto
    float*=htbp,  % Posición flexible pero prioritaria
    height fixedfor=all,  % Altura fija
    max height=0.7\textheight,  % Máximo 70% de la página
    overlay={
        \node[anchor=north east, inner sep=2mm] at (frame.north east) 
            {\small Figura~\thefigure};  % Número de figura automático
    },
    #1
}

% renombando headrule with ornament
\renewcommand{\headrule}{%
\vspace{-8pt}\hrulefill
\raisebox{-2.1pt}{\quad\decofourleft\decotwo\decofourright\quad}\hrulefill}

% Declaring a new macro for units


% Definition of a listing environment for Python

% % Configuración de Python
\lstdefinestyle{pythonstyle}{
    language=Python,                 % Define el lenguaje
    basicstyle=\ttfamily\small,      % Estilo de fuente
    keywordstyle=\color{blue},       % Palabras clave
    stringstyle=\color{green!70!black}, % Cadenas
    commentstyle=\color{gray},       % Comentarios
    numbers=left,                    % Numeración a la izquierda
    numberstyle=\tiny,               % Tamaño de números
    stepnumber=1,                    % Cada línea numerada
    numbersep=5pt,                   % Separación de números
    showstringspaces=false,          % No muestra espacios en cadenas
    frame=single,                      % Marco alrededor del código
    frameround=tttt,
    rulecolor=\color{black},         % Color del marco
    breaklines=true,                 % Líneas largas se parten
    tabsize=4,                       % Tamaño del tabulador
    captionpos=b                     % Posición del título (b=abajo)
    literate={*}{{\char42}}1
        {-}{{\char45}}1
        {""""}{{\texttt{""""}}}3 % Manejo de comillas triples
}

% % Comando para usar el estilo
\lstset{style=pythonstyle}

% Índices
\makeindex
\numberwithin{equation}{chapter}

% ================================================================================================================================
% Metadatos
% ================================================================================================================================

\author{Manuel Alejandro Matías Astorga}
\title{Thesis}